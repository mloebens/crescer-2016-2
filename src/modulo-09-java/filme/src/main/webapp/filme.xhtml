<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/templates/template.xhtml"
    xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="form">

        <div class="form-group"> 
            <h:outputLabel for="titulo" value="#{bundle.filme_titulo}"></h:outputLabel>
            <h:inputText id="titulo" value="#{cadastroFilme.filme.titulo}" styleClass="form-control"/>

             <h:outputLabel for="genero" value="#{bundle.filme_genero}" ></h:outputLabel>
             <h:selectOneListbox id="genero" value="#{cadastroFilme.filme.genero}" styleClass="form-control" converter="javax.faces.Long">
                <f:selectItems value="#{cadastroGenero.generos}" var="genero" 
                               itemLabel="#{genero.descricao}" itemValue="#{genero.id}"/>							
            </h:selectOneListbox>
             
             
             <h:outputLabel for="genero" value="#{bundle.filme_elenco}" ></h:outputLabel>
             <h:selectOneListbox id="genero" value="#{cadastroFilme.filme.elenco}" styleClass="form-control" converter="javax.faces.Long">
                <f:selectItems value="#{cadastroElenco.elencos}" var="elenco" 
                               itemLabel="#{elenco.nome}" itemValue="#{elenco.id}"/>							
            </h:selectOneListbox>
             
             
             <h:outputLabel for="classificacao" value="#{bundle.filme_classificacao}" ></h:outputLabel>
             <h:selectOneListbox id="classificacao" value="#{cadastroFilme.filme.classificacao}" styleClass="form-control" converter="javax.faces.Long">
                 <f:selectItems value="#{cadastroClassificacao.classificacoes}" var="classificacao" 
                                itemLabel="#{classificacao.descricao}" itemValue="#{classificacao.id}"/>							
            </h:selectOneListbox>

        </div>
        <h:commandButton type="submit" value="Enviar" styleClass="btn btn-success" action="#{cadastroFilme.adicionar}">    
            <f:ajax execute="@form" render="@form" />
        </h:commandButton>

        <h:dataTable id="elencos" value="#{cadastroFilme.filme}" var="elenco" styleClass="table table-hover">
            <h:column>
                <f:facet name="header">
                    <h:outputText value="#{bundle.filme_id}"/>
                </f:facet>
                <h:outputText value="#{filme.id}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="#{bundle.elenco_nome}"/>
                </f:facet>
                <h:outputText value="#{filme.titulo}"/>
            </h:column>
       
        </h:dataTable>

    </ui:define>

</ui:composition>